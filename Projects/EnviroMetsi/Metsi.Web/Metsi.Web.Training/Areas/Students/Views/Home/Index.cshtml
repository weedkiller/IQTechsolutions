@model Education.Base.ApiModels.StudentApiModel

@{
    ViewData["Title"] = "Profile";
}


<div class="row animated fadeInRight">
    <div class="col-md-4">
        <div class="ibox float-e-margins">
            <div class="ibox-title">
                <h5>Profile Detail</h5>
            </div>
            <div>
                <div class="ibox-content no-padding border-left-right">
                    <img alt="image" class="img-responsive" src="@Model?.ImageUrl" style="display:block; margin:auto;">
                </div>
                <div class="ibox-content profile-content">
                    <h4><strong>@Model.FirstName Model.LastName</strong></h4>
                    <p><i class="fa fa-map-marker"></i> @Model.Address</p>
                    <h5>
                        About me
                    </h5>
                    <p>
                        @Model.Description
                    </p>
                    @*<div class="row m-t-lg">
                            <div class="col-md-4">
                                @{
                                    var groupedPosts = "";
                                    var groupCount = 0;

                                    foreach (var item in Model.Posts.GroupBy(c => c.Created))
                                    {
                                        groupCount += 1;
                                        if (groupCount == 1)
                                        {
                                            groupedPosts = item.Count().ToString();
                                        }
                                        else
                                        {
                                            groupedPosts = groupedPosts + "," + item.Count().ToString();
                                        }

                                    }
                                    <span class="bar">@groupedPosts</span>
                                }

                                <h5><strong>@Model.Posts.Count</strong> Posts</h5>
                            </div>
                            <div class="col-md-4">
                                @{
                                    var groupedFollowing = "";
                                    var followingCount = 0;

                                    foreach (var item in Model.Posts.GroupBy(c => c.Created))
                                    {
                                        followingCount += 1;
                                        if (followingCount == 1)
                                        {
                                            groupedFollowing = item.Count().ToString();
                                        }
                                        else
                                        {
                                            groupedFollowing = groupedPosts + "," + item.Count().ToString();
                                        }

                                    }
                                    <span class="line">@groupedFollowing</span>
                                }
                                <h5><strong>@Model.Friends.Count</strong> Following</h5>
                            </div>
                            <div class="col-md-4">
                                @{
                                    var groupedFollower = "";
                                    var followerCount = 0;

                                    foreach (var item in Model.Posts.GroupBy(c => c.Created))
                                    {
                                        followerCount += 1;
                                        if (followerCount == 1)
                                        {
                                            groupedFollower = item.Count().ToString();
                                        }
                                        else
                                        {
                                            groupedFollower = groupedPosts + "," + item.Count().ToString();
                                        }

                                    }
                                    <span class="bar">@groupedFollower</span>
                                }
                                <h5><strong>@Model.Friends.Count</strong> Followers</h5>
                            </div>
                        </div>
                    <div class="user-button">
                        <div class="row">
                            if (Model.Id == UserManager.GetUserId(User))
                            {
                                <div class="col-md-6">
                                    <a asp-area="Identity" asp-page="/Account/Manage/Index" class="btn btn-primary btn-sm btn-block"><i class="fa fa-envelope"></i> Manage Profile</a>
                                </div>
                            }
                            else
                            {
                                <div class="col-md-6">
                                    <button type="button" class="btn btn-primary btn-sm btn-block"><i class="fa fa-envelope"></i> Send Message</button>
                                </div>
                            }
                            <div class="col-md-6">
                                <button type="button" asp-area="Dashboard" asp-controller="Contacts" asp-action="Index" asp-route-id="@Model.Id" class="btn btn-default btn-sm btn-block"><i class="fa fa-coffee"></i> Friends </button>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-6">
                                <a asp-area="Identity" asp-page="/Account/Manage/Index" class="btn btn-primary btn-sm btn-block"><i class="fa fa-envelope"></i> Manage Profile</a>
                            </div>
                            <div class="col-md-6">
                                <button type="button" class="btn btn-primary btn-sm btn-block"><i class="fa fa-envelope"></i> Send Message</button>
                            </div>
                        </div>
                    </div>*@
                </div>
            </div>
        </div>
    </div>
    <div class="col-md-8">
        <div class="ibox float-e-margins">
            <div class="ibox-title">
                <h5>Activites</h5>
                <div class="ibox-tools">
                    <a class="collapse-link">
                        <i class="fa fa-chevron-up"></i>
                    </a>
                    <a class="close-link">
                        <i class="fa fa-times"></i>
                    </a>
                </div>
            </div>
            <div class="ibox-content">

                <div>
                    <div class="feed-activity-list">

                        <div class="feed-element">
                            <div class="media-body ">
                                <h3><strong>No current activity feed on this account</strong> </h3>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </div>
        <div class="ibox float-e-margins">
            <div class="ibox-title">
                <h5>Active Courses</h5>
                <div class="ibox-tools">
                    <a class="collapse-link">
                        <i class="fa fa-chevron-up"></i>
                    </a>
                    <a class="close-link">
                        <i class="fa fa-times"></i>
                    </a>
                </div>
            </div>
            <div class="ibox-content">

                <div>
                    <div class="feed-activity-list">

                        <div class="feed-element">
                            <div class="media-body ">
                                <h3><strong>No active courses</strong> </h3>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </div>
        <div class="ibox float-e-margins">
            <div class="ibox-title">
                <h5>Completed Courses</h5>
                <div class="ibox-tools">
                    <a class="collapse-link">
                        <i class="fa fa-chevron-up"></i>
                    </a>
                    <a class="close-link">
                        <i class="fa fa-times"></i>
                    </a>
                </div>
            </div>
            <div class="ibox-content">

                <div>
                    <div class="feed-activity-list">

                        <div class="feed-element">
                            <div class="media-body ">
                                <h3><strong>No Completed courses</strong> </h3>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>
</div>
